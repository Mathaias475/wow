{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Subject, debounceTime } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/common/services/items.service\";\nexport class SearchComponent {\n  constructor(itemsService) {\n    this.itemsService = itemsService;\n    this.placeholder = '';\n    this.onValue = new EventEmitter();\n    this.value = this.itemsService.cacheStore.byItem.term;\n    this.debouncer = new Subject();\n  }\n  ngOnInit() {\n    this.debouncerSubscription = this.debouncer.pipe(debounceTime(300)).subscribe(value => {\n      this.onValue.emit(value);\n    });\n  }\n  ngOnDestroy() {\n    this.debouncerSubscription?.unsubscribe();\n  }\n  onSearch(searchTerm) {\n    this.debouncer.next(searchTerm);\n  }\n  static #_ = this.ɵfac = function SearchComponent_Factory(t) {\n    return new (t || SearchComponent)(i0.ɵɵdirectiveInject(i1.ItemsService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SearchComponent,\n    selectors: [[\"wow-search\"]],\n    inputs: {\n      placeholder: \"placeholder\",\n      value: \"value\"\n    },\n    outputs: {\n      onValue: \"onValue\"\n    },\n    decls: 2,\n    vars: 2,\n    consts: [[\"type\", \"text\", 1, \"p-2\", 3, \"value\", \"placeholder\", \"keyup\"], [\"search\", \"\"]],\n    template: function SearchComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"input\", 0, 1);\n        i0.ɵɵlistener(\"keyup\", function SearchComponent_Template_input_keyup_0_listener() {\n          i0.ɵɵrestoreView(_r1);\n          const _r0 = i0.ɵɵreference(1);\n          return i0.ɵɵresetView(ctx.onSearch(_r0.value));\n        });\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"value\", ctx.value)(\"placeholder\", ctx.placeholder);\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["EventEmitter","Subject","debounceTime","SearchComponent","constructor","itemsService","placeholder","onValue","value","cacheStore","byItem","term","debouncer","ngOnInit","debouncerSubscription","pipe","subscribe","emit","ngOnDestroy","unsubscribe","onSearch","searchTerm","next","_","i0","ɵɵdirectiveInject","i1","ItemsService","_2","selectors","inputs","outputs","decls","vars","consts","template","SearchComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","SearchComponent_Template_input_keyup_0_listener","ɵɵrestoreView","_r1","_r0","ɵɵreference","ɵɵresetView","ɵɵelementEnd","ɵɵproperty"],"sources":["/Users/matiassammartino/Desktop/portafolio/wow/src/app/shared/search/search.component.ts","/Users/matiassammartino/Desktop/portafolio/wow/src/app/shared/search/search.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { Subject, Subscription, debounceTime } from 'rxjs';\nimport { ItemsService } from 'src/app/common/services/items.service';\n\n@Component({\n  selector: 'wow-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.scss']\n})\nexport class SearchComponent implements OnInit, OnDestroy {\n  \n  @Input() placeholder = '';\n  @Output() onValue = new EventEmitter<string>();\n  @Input() value = this.itemsService.cacheStore.byItem.term;\n  \n  constructor(private itemsService: ItemsService) {}\n  private debouncerSubscription?: Subscription;\n  private debouncer = new Subject<string>();\n  \n  ngOnInit(): void {\n   this.debouncerSubscription = this.debouncer.pipe(debounceTime(300)).subscribe( value => { this.onValue.emit(value)});\n  }\n  ngOnDestroy(): void {\n    this.debouncerSubscription?.unsubscribe();\n    \n  }\n\nonSearch( searchTerm: string ) {\n  this.debouncer.next(searchTerm);\n}\n\n}\n","<input type=\"text\" \nclass=\"p-2\"\n[value]=\"value\"\n(keyup)=\"onSearch(search.value)\"\n[placeholder]=\"placeholder\"\n#search/>\n"],"mappings":"AAAA,SAAoBA,YAAY,QAA0C,eAAe;AACzF,SAASC,OAAO,EAAgBC,YAAY,QAAQ,MAAM;;;AAQ1D,OAAM,MAAOC,eAAe;EAM1BC,YAAoBC,YAA0B;IAA1B,KAAAA,YAAY,GAAZA,YAAY;IAJvB,KAAAC,WAAW,GAAG,EAAE;IACf,KAAAC,OAAO,GAAG,IAAIP,YAAY,EAAU;IACrC,KAAAQ,KAAK,GAAG,IAAI,CAACH,YAAY,CAACI,UAAU,CAACC,MAAM,CAACC,IAAI;IAIjD,KAAAC,SAAS,GAAG,IAAIX,OAAO,EAAU;EAFQ;EAIjDY,QAAQA,CAAA;IACP,IAAI,CAACC,qBAAqB,GAAG,IAAI,CAACF,SAAS,CAACG,IAAI,CAACb,YAAY,CAAC,GAAG,CAAC,CAAC,CAACc,SAAS,CAAER,KAAK,IAAG;MAAG,IAAI,CAACD,OAAO,CAACU,IAAI,CAACT,KAAK,CAAC;IAAA,CAAC,CAAC;EACrH;EACAU,WAAWA,CAAA;IACT,IAAI,CAACJ,qBAAqB,EAAEK,WAAW,EAAE;EAE3C;EAEFC,QAAQA,CAAEC,UAAkB;IAC1B,IAAI,CAACT,SAAS,CAACU,IAAI,CAACD,UAAU,CAAC;EACjC;EAAC,QAAAE,CAAA,G;qBApBYpB,eAAe,EAAAqB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,YAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAfzB,eAAe;IAAA0B,SAAA;IAAAC,MAAA;MAAAxB,WAAA;MAAAE,KAAA;IAAA;IAAAuB,OAAA;MAAAxB,OAAA;IAAA;IAAAyB,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,yBAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;;QCT5Bb,EAAA,CAAAe,cAAA,kBAKS;QAFTf,EAAA,CAAAgB,UAAA,mBAAAC,gDAAA;UAAAjB,EAAA,CAAAkB,aAAA,CAAAC,GAAA;UAAA,MAAAC,GAAA,GAAApB,EAAA,CAAAqB,WAAA;UAAA,OAASrB,EAAA,CAAAsB,WAAA,CAAAR,GAAA,CAAAlB,QAAA,CAAAwB,GAAA,CAAApC,KAAA,CAAsB;QAAA,EAAC;QAHhCgB,EAAA,CAAAuB,YAAA,EAKS;;;QAHTvB,EAAA,CAAAwB,UAAA,UAAAV,GAAA,CAAA9B,KAAA,CAAe,gBAAA8B,GAAA,CAAAhC,WAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}